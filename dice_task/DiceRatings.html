{{ block title }}

Dice task

{{ endblock }}

{{ block content }}

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>

        dice-container {
            justify-content: center;
            align-items: center;
        }

        .column {
          float: left;
          width: 50%;
          padding: 10px;
        }

        /* Clear floats after the columns */
        .row:after {
          content: "";
          display: table;
          clear: both;
        }

        .dice {
            width: 100px;
            height: 100px;
            background-color: white;
            border: 2px solid black;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
            padding: 10px;
            border-radius: 10px;
            box-shadow: 2px 2px 10px rgba(0,0,0,0.2);
            gap: 5px;
        }

        .dot {
            width: 20px;
            height: 20px;
            background-color: black;
            border-radius: 50%;
            opacity: 0;
        }

        .show {
            opacity: 1;
        }

    </style>


    <script>

        function showDice(diceId, number) {
            const dotPositions = {
                1: [5],
                2: [1, 9],
                3: [1, 5, 9],
                4: [1, 3, 7, 9],
                5: [1, 3, 5, 7, 9],
                6: [1, 3, 4, 6, 7, 9]
            };

            console.log(`showDice called for ${diceId} with number ${number}`);

            // Ensure number is valid
            if (!dotPositions[number]) {
                console.error(`Invalid dice number: ${number}`);
                return;
            }

            // Remove all "show" classes
            document.querySelectorAll(`#${diceId} .dot`).forEach(dot => dot.classList.remove('show'));

            // Add "show" to relevant dots
            dotPositions[number].forEach(pos => {
                let dotId = `${diceId}-${pos}`;
                let dotElement = document.getElementById(dotId);

                if (dotElement) {
                    dotElement.classList.add('show');
                    console.log(`✅ Showing dot: ${dotId}`);
                } else {
                    console.warn(`⚠️ Missing dot element: ${dotId}`);
                }
            });
        }

        document.addEventListener("DOMContentLoaded", function () {
                var original = parseInt("{{ original_dice }}", 10) || 1;
                var reported = parseInt("{{ reported_dice }}", 10) || 1;

                showDice('dice1', original);
                showDice('dice2', reported);
            });

    </script>

</head>

<body>
<div class="card-body">

    <p>
        In another experiment, a player got the opportunity to roll a dice and collect the number of points on it as bonus.
        The bonus would be played based on what the player reported, not what they actually drew.
        As such, they could lie and report a different number than that on the dice they threw.
    </p>
    <p>
        Below is the actual score they drew along with the score they reported:
    </p>

    <br>
    <div class="row">
        <div class="column">
            <div class="dice" id="dice1">
                <div class="dot" id="dice1-1"></div>
                <div class="dot" id="dice1-2"></div>
                <div class="dot" id="dice1-3"></div>
                <div class="dot" id="dice1-4"></div>
                <div class="dot" id="dice1-5"></div>
                <div class="dot" id="dice1-6"></div>
                <div class="dot" id="dice1-7"></div>
                <div class="dot" id="dice1-8"></div>
                <div class="dot" id="dice1-9"></div>
            </div>
            <div>
                Original: {{ original_dice }}
            </div>
        </div>

        <div class="column">
            <div class="dice" id="dice2">
                <div class="dot" id="dice2-1"></div>
                <div class="dot" id="dice2-2"></div>
                <div class="dot" id="dice2-3"></div>
                <div class="dot" id="dice2-4"></div>
                <div class="dot" id="dice2-5"></div>
                <div class="dot" id="dice2-6"></div>
                <div class="dot" id="dice2-7"></div>
                <div class="dot" id="dice2-8"></div>
                <div class="dot" id="dice2-9"></div>
            </div>
            <div>
                Reported: {{ reported_dice }}
            </div>
        </div>
    </div>

    <br>
    <h5>
        How trustworthy do you think this person is?
    </h5>

</div>
</body>
</html>

{{ endblock }}